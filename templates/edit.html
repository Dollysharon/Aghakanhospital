{% extends 'starter-page.html' %}
{% load static %}

{% block content %}

<section id="appointment" class="appointment section">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Edit Appointment</h2>
    <p>Update your appointment details below.</p>
  </div>

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <!-- Django Messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-success">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <!-- Appointment Form -->
    <form method="post">
      {% csrf_token %}

      <div class="row">
        <div class="col-md-4 form-group">
          <input type="text" name="name" class="form-control" id="name"
                 placeholder="Your Name" value="{{ editappointment.name }}" required>
        </div>
        <div class="col-md-4 form-group mt-3 mt-md-0">
          <input type="email" class="form-control" name="email" id="email"
                 placeholder="Your Email" value="{{ editappointment.email }}" required>
        </div>
        <div class="col-md-4 form-group mt-3 mt-md-0">
          <input type="tel" class="form-control" name="phone" id="phone"
                 placeholder="Your Phone" value="{{ editappointment.phone }}" required>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4 form-group mt-3">
          <input type="datetime-local" name="date" class="form-control" id="date"
                 placeholder="Appointment Date"
                 value="{{ editappointment.datetime|date:'Y-m-d\\TH:i' }}"
                 required>
        </div>

        <div class="col-md-4 form-group mt-3">
          <select name="department" id="department" class="form-select" required>
            <option value="">Select Department</option>
            <option value="Department 1" {% if editappointment.department == 'Department 1' %}selected{% endif %}>Department 1</option>
            <option value="Department 2" {% if editappointment.department == 'Department 2' %}selected{% endif %}>Department 2</option>
            <option value="Department 3" {% if editappointment.department == 'Department 3' %}selected{% endif %}>Department 3</option>
          </select>
        </div>

        <div class="col-md-4 form-group mt-3">
          <select name="doctor" id="doctor" class="form-select" required>
            <option value="">Select Doctor</option>
            <option value="Doctor 1" {% if editappointment.doctor == 'Doctor 1' %}selected{% endif %}>Doctor 1</option>
            <option value="Doctor 2" {% if editappointment.doctor == 'Doctor 2' %}selected{% endif %}>Doctor 2</option>
            <option value="Doctor 3" {% if editappointment.doctor == 'Doctor 3' %}selected{% endif %}>Doctor 3</option>
          </select>
        </div>
      </div>

      <div class="form-group mt-3">
        <textarea class="form-control" name="message" rows="5"
                  placeholder="Message (Optional)">{{ editappointment.message }}</textarea>
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success">Update Appointment</button>
      </div>

    </form>

  </div>
</section>

{% endblock %}
